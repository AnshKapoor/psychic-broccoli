input:
  csv_glob: "matched_trajectories/matched_trajs_*.csv"
  parse_dates: ["timestamp", "firstseen", "lastseen"]
  timezone: "UTC"
  preprocessed_csv: "data/preprocessed/preprocessed_1.csv"

coordinates:
  use_utm: true
  utm_crs: "epsg:32632"

segmentation:
  time_gap_sec: 120
  distance_jump_m: 600
  min_points_per_flight: 15

flows:
  # Use flow-based clustering by default.
  flow_keys: ["A/D", "Runway"]
  include: []

preprocessing:
  filter:
    max_airport_distance_km: 25
  serial_column: "trajectory_serial"
  serial_start: 1
  smoothing:
    enabled: true
    method: "auto"  # options: auto/savgol, moving_average, median, ewm, none
    window_length: 9
    polyorder: 2
    columns: ["latitude", "longitude", "altitude"]
  resampling:
    n_points: 50
    method: "time"

clustering:
  method: "optics"
  distance_metric: "euclidean"  # options: euclidean, dtw, frechet
  optics:
    min_samples: 12
    xi: 0.04
    min_cluster_size: 0.04
  dbscan:
    eps: 250
    min_samples: 12
  hdbscan:
    min_cluster_size: 20
    min_samples: null
  kmeans:
    n_clusters: 6
  random_state: 42

backbone:
  percentiles: [10, 50, 90]
  min_flights_per_cluster: 10

testing:
  enabled: false
  max_rows_total: null
  max_flights_per_flow: null
  sample_flows_only: false
  max_clusters_per_flow: null

output:
  dir: "output"
  experiment_name: "EXP001"
  save_preprocessed: true
  save_flight_metadata: true
  save_backbones: true
  save_plots: false

logging:
  dir: "logs/experiments"
  filename: "backbone_EXP001.log"
  level: "INFO"
